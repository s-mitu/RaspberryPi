<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>BSD tank control</title>
<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
<script type="text/javascript">
	function onClickShake() {
		$.ajax({url:"/shake",
				success: function() {
					}});
	}
	function onClickFront() {
		$.ajax({url:"/front",
				success: function() {
					$("#idNowStatus").text("Go front")}});
	}
	function onClickBack() {
		$.ajax({url:"/back",
				success: function() {
					$("#idNowStatus").text("Go back")}});
	}
	function onClickStop() {
		$.ajax({url:"/stop",
				success: function() {
					$("#idNowStatus").text("Stop")}});
	}
	function onClickPivotTurnR() {
		$.ajax({url:"/pivotturn_r",
				success: function() {
					$("#idNowStatus").text("Super rotation(R)")}});
	}
	function onClickPivotTurnL() {
		$.ajax({url:"/pivotturn_l",
				success: function() {
					$("#idNowStatus").text("Super rotation(L)")}});
	}
	function onClickSwing() {
		$.ajax({url:"/swing",
				success: function() {
					$("#idNowStatus").text("Stop")}});
	}
//	function updateDistance() {
//		$.ajax({url:"/distance.json",
//				datatype: "json",
//				success: function(json) {
//					$("#idDist").text(json.dist);
//				}});
//	}
//	$(function () {
//		updateDistance();
//		setInterval("updateDistance()", 2000);
//	});
</script>
</head>
<body>
<h1></h1>
<button id="idShake" onClick="onClickShake()">Shake the Flag</button>
<!-- <button id="idFront" onClick="onClickFront()">Go front</button> -->
<!-- <button id="idBack" onClick="onClickBack()">Go back</button> -->
<button id="idPivotTurnR" onClick="onClickPivotTurnR()">super rotation(R)</button>
<button id="idPivotTurnL" onClick="onClickPivotTurnL()">super rotation (L)</button>
<button id="idStop" onClick="onClickStop()">stop</button>
<div id="idStatusArea">
Control Status:<div id="idNowStatus">stop</div>
<!-- Distance: <div id="idDist"></div> [cm]
</div> -->
<table>
	<tr>
		<td>
<a class="twitter-timeline" data-width="400" data-height="500" data-theme="dark" href="https://twitter.com/freebsdtank?ref_src=twsrc%5Etfw">Tweets by freebsdtank</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 
</div>
		</td>
		<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
		<td>
<div id="idCameraArea">
        <script>
			function reloadimg(){
				camera.src = "camera.jpg?r=" + Math.random();
			}
			function setreload(timer){
				setTimeout('reloadimg()',timer);
			}
		</script>
		<img name="camera" width="800" height="600" src="camera.jpg" onload="setreload(1000)" onerror="setreload(5000)"/>
</div>
		</td>
	</tr>
</table>
</body>
</html>
